<html>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/reqwest/1.1.0/reqwest.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script type="text/javascript">
		function getParameterByName(name) {
		    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
			    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
		    results = regex.exec(location.search);
		    return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
		}		

		function getJSON(requestURL) {
		    var xmlHttp = new XMLHttpRequest();
		    xmlHttp.open( "GET", requestURL, false );
		    xmlHttp.send( null );
		    return $.parseJSON(xmlHttp.responseText);
		}


		var authCode = getParameterByName("code");

		var authCodeReq = "https://jawbone.com/auth/oauth2/token" + 
			"?client_id=UDqByBVlzAY" +
			"&client_secret=596ddf4fa41785c02876d5a1e86f0c2d44f47988" + 
			"&code=" + authCode + 
			"&grant_type=authorization_code";

		var accessData= getJSON(authCodeReq);

		console.log("Access token:" + accessData["access_token"]);
 
		var data = $.get("vps.ritwikd.com:8080/"+ accessData["access_token"]);
		console.log(data);


	</script>

</html>

